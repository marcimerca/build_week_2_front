<div class="container mt-5">
    <h2 class="my-3 text-center">Clienti</h2>
    <table class="table table-striped table-hover table-danger">
        <thead>
            <tr>
                <th scope="col" class="text-black">Data Ultimo Contatto</th>
                <th scope="col" class="text-black">Email</th>
                <th scope="col" class="text-black">Email Contatto</th>
                <th scope="col" class="text-black">Fatturato Annuale</th>
                <th scope="col" class="text-black">Nome Contatto</th>
                <th scope="col" class="text-black">Partita IVA</th>
                <th scope="col" class="text-black">PEC</th>
                <th scope="col" class="text-black">Ragione Sociale</th>
                <th scope="col" class="text-black">Telefono</th>
                <th scope="col" class="text-black" *ngIf="user.ruolo == 'ADMIN'">Azioni</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let cliente of clienti">
                <td>{{ cliente.dataUltimoContatto }}</td>
                <td>{{ cliente.email }}</td>
                <td>{{ cliente.emailContatto }}</td>
                <td>{{ cliente.fatturatoAnnuale }}</td>
                <td>{{ cliente.nomeContatto }}</td>
                <td>{{ cliente.partitaIva }}</td>
                <td>{{ cliente.pec }}</td>
                <td>{{ cliente.ragioneSociale }}</td>
                <td>{{ cliente.telefono }}</td>
                <td *ngIf="user.ruolo == 'ADMIN'">
                    <!-- Action buttons for admin -->
                    <!-- <button class="btn btn-sm btn-primary" (click)="editCliente(cliente)">Modifica</button>
                    <button class="btn btn-sm btn-danger" (click)="deleteCliente(cliente)">Cancella</button> -->
                </td>
            </tr>
        </tbody>
    </table>
    <div *ngIf="user.ruolo == 'ADMIN'">
        <button type="button"
                class="btn btn-danger mt-4 create-client-btn"
                data-bs-toggle="modal"
                data-bs-target="#exampleModal" (click)="addCliente()">Aggiungi Cliente</button>
    </div>
</div>

<!-- Modal for adding a new cliente -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content bg-danger text-white">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Aggiungi cliente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form #newClienteForm="ngForm" (ngSubmit)="addCliente()">
                    <div class="mb-3">
                        <label for="ragioneSociale" class="form-label">Ragione Sociale</label>
                        <input type="text" class="form-control" id="ragioneSociale" name="ragioneSociale" ngModel required>
                    </div>
                    <div class="mb-3">
                        <label for="partitaIva" class="form-label">Partita IVA</label>
                        <input type="text" class="form-control" id="partitaIva" name="partitaIva" ngModel required>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" name="email" ngModel required>
                    </div>
                    <div class="mb-3">
                        <label for="dataUltimoContatto" class="form-label">Data Ultimo Contatto</label>
                        <input type="date" class="form-control" id="dataUltimoContatto" name="dataUltimoContatto" ngModel required>
                    </div>
                    <div class="mb-3">
                        <label for="fatturatoAnnuale" class="form-label">Fatturato Annuale</label>
                        <input type="number" class="form-control" id="fatturatoAnnuale" name="fatturatoAnnuale" ngModel required>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-light">Aggiungi</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>




  <!-- <div class="container-fluid grad pt-5" >
    <div class="row ">
        <div class="container-fluid text-center m-5 col-2">
            <ng-template #content let-c="close" let-d="dismiss">
                <div class="modal-header ">
                    <h4 class="modal-title " id="modal-basic-title">
                        Aggiungi un nuovo cliente
                    </h4>
                    <button
                        type="button"
                        class="btn-close"
                        aria-label="Close"
                        (click)="d('Cross click')"
                    ></button>
                </div>
                <div class="modal-body">
                    <div class="form-container sign-up-container">
                        <form #newPost="ngForm" (ngSubmit)="addCliente()">
                            <input
                                type="text"
                                placeholder="Insert Title..."
                                id="title"
                                name="title"
                                required
                                class="form-control "
                                ngModel
                            />
                            <input
                                type="text"
                                placeholder="Write a post..."
                                id="body"
                                name="body"
                                required
                                class="form-control"
                                ngModel
                            />
                            <input
                                type="url"
                                placeholder="Insert picture..."
                                id="images"
                                name="images"
                                required
                                class="form-control"
                                ngModel
                            />
                            <button
                                class="btn mt-2"
                                type="submit"
                                (click)="c('Save click')"
                                [disabled]="newPost.invalid"
                            >
                                Publish!
                            </button>
                        </form>
                    </div>
                </div>
    
            </ng-template>
            <button
                class="btn btn-lg over btn-outline-light"
                (click)="open(content)"
            >
                Create New Post
            </button>
        </div>
    </div>
</div>  -->